<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grant-Writer Agent - Debug</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom": "https://esm.sh/react-dom@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "@google/generative-ai": "https://esm.sh/@google/generative-ai@0.15.0",
            "pdfjs-dist": "https://esm.sh/pdfjs-dist@4.0.379"
        }
    }
    </script>
</head>
<body class="bg-gray-50">
    <div id="root">Loading...</div>
    <script type="module">
        console.log('Starting app...');
        
        try {
            const { default: React } = await import('react');
            console.log('React imported:', React);
            
            const { createRoot } = await import('react-dom/client');
            console.log('createRoot imported:', createRoot);
            
            const container = document.getElementById('root');
            const root = createRoot(container);
            
            // Simple test component
            const TestApp = React.createElement('div', {
                className: 'p-8'
            }, 
                React.createElement('h1', { 
                    className: 'text-3xl font-bold text-blue-600' 
                }, 'Grant-Writer Agent - Debug Mode'),
                React.createElement('p', {
                    className: 'mt-4 text-gray-700'
                }, 'React and modules are loading correctly!')
            );
            
            root.render(TestApp);
            console.log('App rendered successfully');
            
        } catch (error) {
            console.error('Error loading app:', error);
            document.getElementById('root').innerHTML = `
                <div class="p-8 bg-red-50 border border-red-200 rounded">
                    <h1 class="text-xl font-semibold text-red-800">Error Loading Application</h1>
                    <pre class="mt-2 text-sm text-red-700">${error.message}</pre>
                </div>
            `;
        }
    </script>
</body>
</html>